

# Event 0 Response:
def execute(self, obs):
    actions = {}
    trigger_met = False

    # Initialization
    if not hasattr(self, 'init_done'):
        self.init_done = True
        # Select a Zergling as bait (lowest ID for determinism)
        zerglings = [uid for uid, unit in obs['ally'].items() if unit['unit_type'] == 'zergling']
        if zerglings:
            self.bait_id = sorted(zerglings)[0]
        else:
            self.bait_id = None

    # Locate Targets
    enemy_cc_pos = [46.5, 64.5] # Default location from snapshot
    for uid, unit in obs['enemy'].items():
        if unit['unit_type'] == 'CommandCenter':
            enemy_cc_pos = unit['coords']
            break

    nydus_pos = [28.5, 11.5] # Default location from snapshot
    for uid, unit in obs['ally'].items():
        if unit['unit_type'] == 'nydusNetwork':
            nydus_pos = unit['coords']
            break

    # Action Logic
    for uid, unit in obs['ally'].items():
        # Only mobile units (Zerglings and Roaches) move
        if unit['unit_type'] in ['zergling', 'roach']:
            if uid == self.bait_id:
                # Bait moves toward enemy base
                move_dir = self.get_move_direction(unit['coords'], enemy_cc_pos)
                if move_dir in unit['available_actions']:
                    actions[uid] = move_dir
            else:
                # Other agents move toward Nydus Network
                move_dir = self.get_move_direction(unit['coords'], nydus_pos)
                if move_dir in unit['available_actions']:
                    actions[uid] = move_dir

    # Trigger Logic: "The bait Zergling is attacked."
    # Check if bait is dead (missing) or damaged (health < max 35)
    if self.bait_id is not None:
        if self.bait_id not in obs['ally']:
            trigger_met = True # Bait died
        else:
            bait_unit = obs['ally'][self.bait_id]
            if bait_unit['health'] < 35.0:
                trigger_met = True

    # Safety Fill
    for uid in obs['ally']:
        if uid not in actions:
            avail = obs['ally'][uid]['available_actions']
            actions[uid] = 'stop' if 'stop' in avail else avail[0]

    return actions, trigger_met
